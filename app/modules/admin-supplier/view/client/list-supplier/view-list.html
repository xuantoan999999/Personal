<!--Content Wrapper. Contains page content -->
<div id="mod-supplier-list" class="content-wrapper">
	<!-- Content Header (Page header) -->
	<section class="content-header">
		<h1>
			Nhà cung cấp
			<small>Danh sách nhà cung cấp</small>
		</h1>
		<ol class="breadcrumb">
			<li><a ui-sref="dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
			<li><a class="active">Nhà cung cấp</a></li>
		</ol>
	</section>
	<!-- Main content -->
	<section class="content">
		<div class="row">
			<div class="col-xs-12">
				<div class="box">
					<div class="box-header">
						<h3 class="box-title">Danh sách các nhà cung cấp</h3>
					</div>
					<!-- /.box-header -->
					<div class="box-body">
						<div class="form-inline pull-left">
							<div class="form-group form-group-item">
								<form ng-submit="vmListSupplier.filter(vmListSupplier.keyword)">
									<input type="search" class="form-control search" name="keyword" ng-model="vmListSupplier.keyword" id="keyword" placeholder="Tìm kiếm danh mục">
									<a class="btn btn-success btn-flat" ng-click="vmListSupplier.filter(vmListSupplier.keyword);">
										<i class="fa fa-search"></i>
										<span>Filter</span>
									</a>
									<a class="btn  btn-default btn-flat" ng-click="vmListSupplier.filterReset();">
										<i class="fa fa-undo "></i>
										<span>Reset</span>
									</a>
								</form>

							</div>
						</div>
						<div ng-if="pageMethods.authSvc.isSuperAdmin() || (pageMethods.authSvc.isAdmin() && pageMethods.authSvc.hasPermission('supplier', ['add']))"
						 class="form-inline pull-right">
							<div class="form-group form-group-item">
								<a class="btn btn-primary btn-sm btn-flat" ui-sref="createSupplier({module: 'supplier'})">
									<i class="glyphicon glyphicon-plus"></i>
									<span>Thêm</span>
								</a>
							</div>
						</div>
						<div class="clearfix"></div>
						<div ng-show="vmListSupplier.loading" style="text-align: center;"><img src="/assets/loading.svg" alt=""></div>
						<table ng-show="!vmListSupplier.loading" ng-table="vmListSupplier.table" class="table table-condensed table-bordered table-striped">
							<tr ng-repeat="item in $data">
								<td data-title="'STT'">
									<div class="col col-num" ng-bind="((vmListSupplier.queryParams.page - 1) * vmListSupplier.queryParams.limit) + $index + 1"></div>
								</td>
								<td data-title="'Nhà cung cấp'">
									<strong>[[item.name]]</strong> <br>
									<em class="margin-left">- [[item.phone]]</em> <br>
									<em class="margin-left">- [[item.email]]</em>
								</td>
								<!--<td data-title="'Điện thoại'">/td>
                                <td data-title="'Email'"></td>-->

								<td data-title="'Người đại diện'">
									<span class="name-deputy">[[item.deputy.name]]</span> <br>
									<em class="margin-left">- [[item.deputy.phone]]</em>
									<br>
									<em class="margin-left">- [[item.deputy.email]]</em>
								</td>
								<td data-title="'Mã số thuế'">[[item.tax_code]]</td>
								<td data-title="'Thông tin tài khoản'">
									<strong class="name-deputy">Chủ TK: [[item.bank_info.name]]</strong> <br>
									<em class="margin-left">- STK: [[item.bank_info.account_number]]</em> <br>
									<em class="margin-left">- NH: [[item.bank_info.bank_name]]</em>
								</td>
								<!--<td data-title="'Trạng thái'">
									<span class="[[item.status === true ? 'label label-success': 'label label-default']]">[[item.status === true ? 'Active': 'Inactive']]</span>
								</td>-->
								<!--<td data-title="'Ngày tạo'">
									<span ng-bind="item.created | bzFormatDate:'h:m:s DD/MM/YYYY'"></span>
								</td>-->
								</td>
								<td data-title="'Action'">
									&nbsp
									<a ng-if="pageMethods.authSvc.isSuperAdmin() || (pageMethods.authSvc.isAdmin() && pageMethods.authSvc.hasPermission('supplier', ['edit']))"
									 class="btn btn-default btn-flat btn-edit"  ui-sref="editSupplier({module: 'supplier', id:item._id})">
										Sửa
									</a>
									&nbsp
									<a ng-if="pageMethods.authSvc.isSuperAdmin() || (pageMethods.authSvc.isAdmin() && pageMethods.authSvc.hasPermission('supplier', ['delete']))"
									class="btn btn-default btn-flat btn-delete" ng-click="vmListSupplier.remove(item._id)">
										Xoá
									</a>
									<br>
									<a ng-if="pageMethods.authSvc.isSuperAdmin() || (pageMethods.authSvc.isAdmin() && pageMethods.authSvc.hasPermission('supplier', ['view', 'export']))"
									 href="" class="btn btn-default btn-flat"  ui-sref="importProductHistory({module: 'supplier', id:item._id})">
										Xem lịch sử nhập hàng
									</a>
								</td>
							</tr>
						</table>
						<div ng-show="vmListSupplier.listSupplier.length == 0" class="no-data">
							Chưa có dữ liệu
						</div>
					</div>
					<!-- /.box-body -->
				</div>
				<!-- /.box -->
			</div>
			<!-- /.col -->
		</div>
		<!-- /.row -->
	</section>
	<!-- /.content -->
</div>
<!-- /.content-wrapper-->